# Backend environment configuration example
# Copy this file to `.env` (not committed) and fill values.
# IMPORTANT: `.env.example` is NOT read by the server. The backend loads `.env`.
# IMPORTANT: Do NOT put real secrets in `.env.example` or commit them to git.

# App
ENVIRONMENT=development
DEBUG=true
APP_NAME=LearnovateX

# Database
# SQLite is the default (no extra setup required).
DATABASE_URL=sqlite:///./learnovatex.db

# Auth
JWT_SECRET=change_me
JWT_ALGORITHM=HS256
JWT_EXPIRATION_DAYS=7

# Password reset OTP
# TTL is clamped to 5-10 minutes in code.
RESET_OTP_TTL_MINUTES=10

# ---------------------------------------------
# AI configuration
# ---------------------------------------------
# AI_MODE:
# - demo  : sample responses (works offline, no keys required)
# - azure : real Azure OpenAI responses
# - openai: real OpenAI Platform (openai.com) responses
AI_MODE=demo

# Azure OpenAI (only needed if AI_MODE=azure)
# Get these from your Azure OpenAI resource:
# - Keys and Endpoint -> key + endpoint
# - Azure AI Foundry / OpenAI Studio -> deployment name
AZURE_OPENAI_API_KEY=YOUR_AZURE_OPENAI_KEY
AZURE_OPENAI_ENDPOINT=https://YOUR-RESOURCE-NAME.openai.azure.com/
AZURE_OPENAI_DEPLOYMENT=YOUR_DEPLOYMENT_NAME

# OpenAI Platform (non-Azure) (only needed if AI_MODE=openai)
# Put your real key in backend/.env (NOT in .env.example).
OPENAI_API_KEY=YOUR_OPENAI_API_KEY
# Example models: gpt-4o-mini, gpt-4.1-mini
OPENAI_MODEL=gpt-4o-mini

# ---------------------------------------------
# CORS (frontend URL allowlist)
# ---------------------------------------------
# Comma-separated origins (overrides defaults).
# Example: CORS_ORIGINS=http://localhost:3000,https://your-static-web-app.azurestaticapps.net
# CORS_ORIGINS=

# Regex allowlist (defaults to allow Azure Static Web Apps preview URLs).
# CORS_ORIGIN_REGEX=https://.*\.azurestaticapps\.net

# ---------------------------------------------
# File uploads
# ---------------------------------------------
UPLOAD_DIR=uploads
RESUME_UPLOAD_DIR=uploads/resumes
CODE_UPLOAD_DIR=uploads/code_submissions

# Limits
MAX_FILE_SIZE_MB=5
TUTOR_CONTEXT_MAX_FILE_SIZE_MB=20

# Optional OCR (requires system Tesseract)
# TESSERACT_CMD=C:\\Program Files\\Tesseract-OCR\\tesseract.exe
TESSERACT_LANG=eng

# ---------------------------------------------
# App limits (per-user)
# ---------------------------------------------
MAX_DAILY_AI_REQUESTS=20
MAX_CODE_SUBMISSIONS_PER_DAY=50
MAX_INTERVIEWS_PER_DAY=5

# Email / SMTP
# If ENABLE_EMAIL is not set, email is auto-enabled when SMTP is configured.
# ENABLE_EMAIL=true

# Transport toggles
# - For port 587: STARTTLS (recommended)
# - For port 465: SSL
SMTP_USE_STARTTLS=true
SMTP_USE_SSL=false

# --- Gmail (SMTP) ---
# Use a Google App Password for SMTP_PASSWORD.
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your_email@gmail.com
# Gmail app passwords are usually shown with spaces. Store it WITHOUT spaces.
SMTP_PASSWORD=YOUR_GMAIL_APP_PASSWORD_WITHOUT_SPACES
EMAIL_FROM=LearnovateX <your_email@gmail.com>

# --- Outlook / Office365 (SMTP) ---
# SMTP_HOST=smtp.office365.com
# SMTP_PORT=587
# SMTP_USE_STARTTLS=true
# SMTP_USE_SSL=false
# SMTP_USERNAME=your_outlook_email@outlook.com
# SMTP_PASSWORD=your_password_or_app_password
# EMAIL_FROM=LearnovateX <your_outlook_email@outlook.com>

# --- SendGrid (SMTP) ---
# SMTP_HOST=smtp.sendgrid.net
# SMTP_PORT=587
# SMTP_USE_STARTTLS=true
# SMTP_USE_SSL=false
# SMTP_USERNAME=apikey
# SMTP_PASSWORD=your_sendgrid_api_key
# EMAIL_FROM=LearnovateX <verified_sender@yourdomain.com>

# Debug-only (DO NOT enable in production)
RETURN_DEBUG_OTP=false
